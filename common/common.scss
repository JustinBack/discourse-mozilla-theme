@import url('https://code.cdn.mozilla.net/fonts/zilla-slab.css');
@import url('https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700,700i');
@import "variables";

body {
    font-family: "Open Sans", sans-serif;
}

h1, h2, h3, h4, h5, h6 {
    font-family: "Zilla Slab", serif;
    font-weight: normal;
}

.login-button {
    font-weight: bold;

    i {
        display: none;
    }
}

.badge-wrapper {
    font-weight: normal;
}

.download-banner {
    display: none;
}

/* Dinopark-style focus styles */

.focus-styles :focus {
  box-shadow: $focusOutlineShadow;
}

/* Apply underline to links in posts */

.topic-body .contents .cooked,
#reply-control .wmd-controls .d-editor-preview {

    a:not(.mention):not(.mention-group):not(.badge-wrapper) {

        &, &:active, &:hover, &:visited {
            text-decoration: underline;
        }

        &:hover {
          color: $primary;
        }
    }
}

/* Hide buggy first notification spotlight */

.ring, .ring-backdrop, .ring-backdrop-spotlight {
  display: none;
}

/* A11y friendly colours */

.user-preferences {
  .instructions {
    color: $light-text;
  }
}

/* Hide Common Voice subcategory topics */

.category-voice .topic-list .topic-list-item:not(.category-voice) {
  visibility: collapse;
}

/* Hide Community Portal subcategory topics */

.category-community-portal .topic-list .topic-list-item:not(.category-community-portal) {
  visibility: collapse;
}

/* Dinopark-style buttons */

.btn:not(.widget-button):not(.btn-flat), .btn-default, .login-button, .select-kit.dropdown-select-box .dropdown-select-box-header {
  &:not(.period-chooser-header) {
    border-radius: 2em;
    border: 1px solid transparent;
  }
}

.btn:not(.btn-primary):not(.btn-danger):not(.widget-button):not(.btn-flat), .btn-default {
  &:not(.period-chooser-header) {
    &:hover, &.btn-hover {
      color: $secondary;
      background: $primary;
      border-color: transparent;

      .d-icon {
        color: $secondary;
      }
    }

    &, &:active, &:active:hover, &.btn-active {
      color: $primary;
      background: transparent;
      border-color: $light-text;

      .d-icon {
        color: $primary;
      }
    }
  }
}

.btn.btn-primary, .btn#create-topic {
  color: $white-text;
  background: $button-blue;
  border-color: transparent;

  .d-icon {
    color: $white-text;
  }

  &:hover, &.btn-hover, &:active, &.btn-active {
    color: $primary;
    background: $secondary;
    border-color: $button-blue;

    .d-icon {
      color: $primary;
    }
  }
}

.btn.btn-danger {
  color: $white-text;
  background: $danger;
  border-color: transparent;

  .d-icon {
    color: $white-text;
  }

  &:hover, &.btn-hover, &:active, &.btn-active {
    color: $danger;
    background: $secondary;
    border-color: $danger;

    .d-icon {
      color: $danger;
    }
  }
}

.select-kit.dropdown-select-box .dropdown-select-box-header.is-focused:not(.period-chooser-header) {
  box-shadow: $focusOutlineShadow;
  outline: none;
  border-color: transparent;
}

.d-editor-button-bar .btn.btn-icon {
  border-color: transparent !important;
  border-radius: 0 !important;
}

.modal-footer, .save-or-cancel, .user-main .about, .save-button, .delete-account {
  .btn {
    padding: 12px 30.5px;
  }

  .btn-icon-text {
    padding: 12px 16px;

    .d-icon {
      vertical-align: -4px;
      font-size: 18px;
      line-height: 22px;
    }
  }
}

/* Reduce size of text in "New Topic" button and pills on category pages */

.list-controls {
  .btn, .nav-pills > li > a {
    font-size: 1em;
  }
}

/* Dinopark-style avatars */

img.avatar {
    border-radius: 0.25em;
}

/* Dinopark-style header */

.d-header {
    box-shadow: none;
    border-bottom: 1px solid $header-border;
    padding-top: 0;
    height: $header-height;

    .wrap {
        width: 100%;
        max-width: none;
        padding: 0;
    }

    .title {
      padding: 0 $header-padding;
    }

    #site-logo {
        max-height: 32px;
    }

    .auth-buttons { // on 404 page
      padding-right: $header-padding;
    }

    .header-buttons {
      margin-top: 0;
    }

    .d-header-icons {
        display: flex;
        align-items: center;
        height: $header-height;
        margin: 0;

        .icon, .icon:hover, .active .icon {
            border: none;

            .d-icon {
              color: $primary;
            }
        }

        .icon:hover, .active .icon {
            background: $highlight;
        }

        #search-button, #toggle-hamburger-menu {
            padding: 10px;
            margin-left: $header-padding;
            border-radius: 0.25em;

            &, i {
                height: $header-padding;
                width: $header-padding;
            }
        }

        .header-dropdown-toggle:not(#current-user):last-child {
          margin-right: $header-padding;
        }
    }

    #current-user {
        .icon {
            padding: $header-padding;
            border: none;
        }

        .icon, .avatar {
            height: 40px;
            width: 40px;
        }
    }
}

body .profiler-results.profiler-left {
  top: $header-height !important;
}

/* Put notification icons in the right place */

#current-user {
  .badge-notification {
    top: 15px;
  }

  .unread-notifications {
    right: 15px;
  }

  .unread-private-messages {
    right: 55px;
  }
}

/* Show feather sprite icons correctly */

.feather-sprite {
  stroke: currentColor;
  stroke-width: 2.5;
  stroke-linecap: round;
  stroke-linejoin: round;
  fill: none;
}

/* Dinopark-style modals */

.modal-inner-container {
  border-radius: $border-radius;
}

/* Dinopark-style dropdowns */

.category-breadcrumb, #topic-footer-buttons {
  .single-select {
    .select-kit-header {
      border-radius: 2em !important;
      color: $primary;
      background: $secondary;
      border-color: $light-text;

      .d-icon {
        color: $primary;
      }

      .badge-wrapper .d-icon {
        color: inherit;
      }
    }

    .select-kit-body {
      border-radius: $border-radius !important;
      overflow: hidden;

      .select-kit-collection {
        border-radius: 0;
      }
    }
  }
}

/* Dinopark-style alert banners */

.alert {
  text-align: center;
}

.alert.alert-info {
  background-color: $button-blue;
  color: $white-text;

  a:not(.btn), .btn-link {
    color: $white-text;
    text-decoration: underline;
  }

  .close .d-icon {
    color: $white-text;
  }
}

/* Dark theme */

@if $dark-theme == "true" {
  #site-logo {
    filter: invert(1);
  }

  .user-main .staff-counters {
    background-color: $highlight;

    div {
      &, a {
        color: $white-text;
      }
    }
  }

  .menu-panel {
    li,
    li.heading {
      a.widget-link {
        &:hover,
        &:focus {
          background-color: $highlight;
        }
      }
    }
  }

  .user-menu {
    .notifications {
      li {
        &:hover,
        &:focus {
          background-color: $highlight;
        }
      }
    }
  }

  .select-kit .select-kit-row.is-selected {
    background: $highlight;
  }

  .list-cell, .table-heading, .category-list td, .category-list th,
  .latest-topic-list .table-heading, .top-topic-list .table-heading,
  .select-kit.dropdown-select-box.period-chooser .period-chooser-header h2.selected-name .top-date-string,
  .select-kit.dropdown-select-box.period-chooser .period-chooser-row .top-date-string,
  table th, thead {
    color: $light-text;
  }
}

// Let us remove the background color of the post so our logo is clearly visible
.group-Team .regular>.cooked {
    background-color: transparent;
}

// This is the avatar shadow box
.group-Team>article>.row>.topic-avatar>a>img {
    box-shadow: 0 0 0 1px rgba(255,255,255,0.3), 0 0 0 1.5px #46A546, 0 0 10px 4px rgba(70,165,70,1);
}


// The logo magic
.topic-post.group-Team {
  position: relative;
  &:before {
    content: "";
    position: absolute;
	top: 80px;
    display: block;
    width: 140px;
    height: 140px;
    opacity: 0.1;
    
    background: url('data:image/svg+xml;utf8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 96.2 32" enable-background="new 0 0 96.2 32" xml:space="preserve"><g id="Ebene_1"><g transform="translate(-50 -322.221)"><path fill="%2346A546" d="M53,323.2h26c1.7,0,3,1.3,3,3l0,0c0,1.7-1.3,3-3,3H53c-1.7,0-3-1.3-3-3l0,0C50,324.6,51.3,323.2,53,323.2z"/><path fill="%23F89406" d="M53,331.2h22.2c1.7,0,3,1.3,3,3l0,0c0,1.7-1.3,3-3,3H53c-1.7,0-3-1.3-3-3l0,0C50,332.6,51.3,331.2,53,331.2z"/><path fill="%23C43C35" d="M53,339.2h24.7c1.7,0,3,1.3,3,3l0,0c0,1.7-1.3,3-3,3H53c-1.7,0-3-1.3-3-3l0,0C50,340.6,51.3,339.2,53,339.2z"/><path fill="%23999999" d="M53,347.2h13.2c1.7,0,3,1.3,3,3l0,0c0,1.7-1.3,3-3,3H53c-1.7,0-3-1.3-3-3l0,0C50,348.6,51.3,347.2,53,347.2z"/></g></g><g id="Ebene_2"><g><path d="M39.2,23.2V10.9h-4.5V9.6V8.3h12.2v1.3v1.3h-4.5v12.3h-1.6H39.2z"/><path d="M49.3,23.2v-15h11v1.3v1.3h-7.9v3.2h7.3v1.3v1.3h-7.3v3.9h8.2v1.3v1.3H49.3z"/><path d="M62.6,23.2l5.3-15h1.8h1.8l5.3,15h-1.7h-1.7l-1-3h-5.7l-1,3h-1.6H62.6z M69.7,11.6l-2,6h4L69.7,11.6z"/><path d="M82.3,23.2h-1.5h-1.5v-15h2.3h2.3l2.7,11.9l2.7-11.9h2.3h2.3v15h-1.5h-1.5V10.6l-2.8,12.6h-1.5h-1.5l-2.8-12.9V23.2z"/></g></g></svg>') no-repeat;
  }
}

.group-curators .regular>.cooked {
    background-color: transparent;
}


// The logo magic
.topic-post.group-curators {
  position: relative;
  &:before {
    content: "";
    position: absolute;
	top: 80px;
    display: block;
    width: 140px;
    height: 140px;
    opacity: 0.1;
    
    background: url('data:image/svg+xml;utf8,<svg version="1.1" id="Ebene_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 137.9 32" style="enable-background:new 0 0 137.9 32;" xml:space="preserve"> <g id="Ebene_1_1_"> <g transform="translate(-50 -322.221)"> <path style="fill:%2346A546;" d="M53,323.2h26c1.7,0,3,1.3,3,3l0,0c0,1.7-1.3,3-3,3H53c-1.7,0-3-1.3-3-3l0,0 C50,324.6,51.3,323.2,53,323.2z"/> <path style="fill:%23F89406;" d="M53,331.2h22.2c1.7,0,3,1.3,3,3l0,0c0,1.7-1.3,3-3,3H53c-1.7,0-3-1.3-3-3l0,0 C50,332.6,51.3,331.2,53,331.2z"/> <path style="fill:%23C43C35;" d="M53,339.2h24.7c1.7,0,3,1.3,3,3l0,0c0,1.7-1.3,3-3,3H53c-1.7,0-3-1.3-3-3l0,0 C50,340.6,51.3,339.2,53,339.2z"/> <path style="fill:%23999999;" d="M53,347.2h13.2c1.7,0,3,1.3,3,3l0,0c0,1.7-1.3,3-3,3H53c-1.7,0-3-1.3-3-3l0,0 C50,348.6,51.3,347.2,53,347.2z"/> </g> </g> <g style="enable-background:new;"> <path d="M47.7,18c-0.2,1.7-0.9,3.1-2,4.1s-2.7,1.5-4.4,1.5c-2.1,0-3.8-0.7-5-2.1s-1.9-3.3-1.9-5.7c0-2.5,0.6-4.4,1.9-5.8 s2.9-2.2,5-2.2c1.8,0,3.2,0.5,4.4,1.4s1.9,2.3,2.1,3.9h-3.1c-0.1-0.8-0.4-1.4-1-1.9s-1.4-0.7-2.3-0.7c-1.2,0-2.1,0.5-2.7,1.4 s-1,2.2-1,3.9c0,1.6,0.3,2.9,1,3.8s1.6,1.4,2.7,1.4c0.9,0,1.7-0.3,2.3-0.8s0.9-1.2,1-2.2H47.7z"/> <path d="M62.1,17.6c0,2.1-0.5,3.7-1.4,4.6s-2.5,1.4-4.6,1.4c-2.1,0-3.6-0.5-4.6-1.5S50,19.6,50,17.6V8.2h1.6h1.6v9.4 c0,1.1,0.2,1.9,0.7,2.4s1.2,0.8,2.2,0.8c1,0,1.8-0.2,2.2-0.7s0.7-1.3,0.7-2.5V8.2h1.6h1.6V17.6z"/> <path d="M65.2,23.2v-15h1.6h6c1.4,0,2.6,0.4,3.5,1.1s1.3,1.8,1.3,3c0,1.4-0.5,2.5-1.5,3.2c-0.3,0.2-0.6,0.3-0.9,0.4 c0.2,0.1,0.4,0.2,0.5,0.2c0.9,0.5,1.3,1.4,1.3,2.6l0.1,2.5c0,0.5,0.1,0.8,0.2,1s0.3,0.4,0.5,0.5v0.4h-3.5c-0.1-0.2-0.2-0.5-0.2-1 S74,21.1,74,20.5l0-1.4c0-0.7-0.2-1.2-0.6-1.4s-1-0.4-1.9-0.4h-3.1v5.9h-1.6H65.2z M68.3,14.8H72c0.8,0,1.4-0.2,1.8-0.5 s0.6-0.8,0.6-1.5c0-0.7-0.2-1.2-0.6-1.5s-1-0.5-1.7-0.5h-3.8V14.8z"/> <path d="M79.1,23.2l5.3-15h1.8H88l5.3,15h-1.7H90l-1-3h-5.7l-1,3h-1.6H79.1z M86.2,11.6l-2,6h4L86.2,11.6z"/> <path d="M98.6,23.2V10.9h-4.5V9.6V8.2h12.2v1.3v1.3h-4.5v12.3h-1.6H98.6z"/> <path d="M114.6,23.6c-2.2,0-4-0.7-5.3-2.1s-2-3.3-2-5.7c0-2.5,0.7-4.4,2-5.8s3.1-2.2,5.3-2.2c2.2,0,4,0.7,5.3,2.2s1.9,3.4,1.9,5.8 c0,2.4-0.6,4.3-1.9,5.7S116.9,23.6,114.6,23.6z M114.6,21c1.3,0,2.3-0.5,3-1.4s1.1-2.2,1.1-3.8c0-1.7-0.4-3-1.1-3.9s-1.7-1.4-3-1.4 s-2.3,0.5-3,1.4s-1.1,2.2-1.1,3.9c0,1.6,0.4,2.9,1.1,3.8S113.4,21,114.6,21z"/> <path d="M124.4,23.2v-15h1.6h6c1.4,0,2.6,0.4,3.5,1.1s1.3,1.8,1.3,3c0,1.4-0.5,2.5-1.5,3.2c-0.3,0.2-0.6,0.3-0.9,0.4 c0.2,0.1,0.4,0.2,0.5,0.2c0.9,0.5,1.3,1.4,1.3,2.6l0.1,2.5c0,0.5,0.1,0.8,0.2,1s0.3,0.4,0.5,0.5v0.4h-3.5c-0.1-0.2-0.2-0.5-0.2-1 s-0.1-1.1-0.1-1.7l0-1.4c0-0.7-0.2-1.2-0.6-1.4s-1-0.4-1.9-0.4h-3.1v5.9h-1.6H124.4z M127.5,14.8h3.6c0.8,0,1.4-0.2,1.8-0.5 s0.6-0.8,0.6-1.5c0-0.7-0.2-1.2-0.6-1.5s-1-0.5-1.7-0.5h-3.8V14.8z"/> </g> </svg>') no-repeat;
  }
}

.user-group[data-group-card="Team"] {
    display: inline-block;
    padding: .25em .4em;
    font-size: 85%;
    font-weight: 700;
    line-height: 1;
    text-align: center;
    white-space: nowrap;
    vertical-align: baseline;
    border-radius: .25rem;
    color: #fff !important;
    background-color: #dc3545;
}


.user-group[data-group-card="globmods"] {
    display: inline-block;
    padding: .25em .4em;
    font-size: 85%;
    font-weight: 700;
    line-height: 1;
    text-align: center;
    white-space: nowrap;
    vertical-align: baseline;
    border-radius: .25rem;
    color: #212529 !important;
    background-color: #ffc107;
}
.user-group[data-group-card="curators"] {
    display: inline-block;
    padding: .25em .4em;
    font-size: 85%;
    font-weight: 700;
    line-height: 1;
    text-align: center;
    white-space: nowrap;
    vertical-align: baseline;
    border-radius: .25rem;
    color: #fff !important;
    background-color: #007bff;
}
.user-group[data-group-card="donators"] {
    display: inline-block;
    padding: .25em .4em;
    font-size: 85%;
    font-weight: 700;
    line-height: 1;
    text-align: center;
    white-space: nowrap;
    vertical-align: baseline;
    border-radius: .25rem;
    color: #fff !important;
    background-color: #17a2b8;
}
